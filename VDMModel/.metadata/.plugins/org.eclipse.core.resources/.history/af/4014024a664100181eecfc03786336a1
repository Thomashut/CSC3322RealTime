class Encoder

instance variables

port : RealPort;
reversed : bool;

operations

public Encoder: RealPort * bool ==> Encoder
	Encoder(p,r) == (
		port := p;
		reversed := r;
	);
	
public getReading: () ==> real
	getReading() == (
		dcl counts:real := 0;
		if(reversed) then 
			counts := abs(port.getValue())
		else
			counts := port.getValue();
			
		return counts * PI * DIAMETER / RESOLUTION;
	)

values

PI = 3.14159;
DIAMETER = 0.0665;
RESOLUTION = 44;


end Encoder